(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6085,e=>{"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g;let l=t.fetch,s=t.fetch.bind(t),a=t.Headers,r=t.Request,n=t.Response;e.s(["Headers",0,a,"Request",0,r,"Response",0,n,"default",0,s,"fetch",0,l])},302,e=>{"use strict";var t=e.i(43476),l=e.i(71645),s=e.i(17927),a=e.i(67881),r=e.i(23750),n=e.i(70065),i=e.i(64030),o=e.i(31343),c=e.i(67240);function d(){let e=(0,l.useRef)(null),[d,x]=(0,l.useState)("menu"),[m,u]=(0,l.useState)(0),[p,f]=(0,l.useState)([]),[h,b]=(0,l.useState)(""),[g,w]=(0,l.useState)(!1),y=(0,l.useRef)({box:{x:100,y:250,velocity:0},pipes:[],score:0,animationId:null,frameCount:0}),j=(0,l.useRef)([]),v=(0,l.useRef)(0);(0,l.useEffect)(()=>{let e=[];for(let t=1;t<=6;t++){let l=new Image;l.src=`/bird${t}.png`,e.push(l)}j.current=e},[]);let N=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=new Image;e.src="/bg.jpg",N.current=e},[]);let C=(0,l.useCallback)(async()=>{let{data:e,error:t}=await s.supabase.from("high_scores").select("*").order("score",{ascending:!1}).limit(10);e&&!t&&f(e)},[]);(0,l.useEffect)(()=>{C()},[C]);let R=async()=>{if(m>0){let e=h.trim()||"Anonymous";await s.supabase.from("high_scores").insert({player_name:e,score:m}),await C(),w(!1),b("")}},k=()=>{let t=e.current,l=y.current,s=t?t.width:window.innerWidth;l.box={x:s/6,y:(t?t.height:window.innerHeight)/2,velocity:0},l.pipes=[{x:s-150,gapY:200}],l.score=0,l.frameCount=0,u(0),x("playing"),w(!1)},S=(0,l.useCallback)(()=>{"playing"===d&&(y.current.box.velocity=-8)},[d]);return(0,l.useEffect)(()=>{let e=e=>{"Space"===e.code&&(e.preventDefault(),"menu"===d?k():"playing"===d?S():"gameOver"===d&&k())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,S]),(0,l.useEffect)(()=>{if("playing"!==d)return;let t=e.current;if(!t)return;let l=t.getContext("2d");if(!l)return;let s=y.current,a=()=>{let e=window.innerWidth,r=window.innerHeight;t.width=e,t.height=r;let n=Math.min(e,r)/15,i=Math.min(e,r)/7,o=Math.min(e,r)/3.5;if(l.clearRect(0,0,e,r),N.current?.complete?l.drawImage(N.current,0,0,e,r):(l.fillStyle="#0ea5e9",l.fillRect(0,0,e,r)),s.box.velocity+=.5,s.box.y+=s.box.velocity,j.current.length>0){s.frameCount%5==0&&(v.current=(v.current+1)%j.current.length);let e=j.current[v.current];e.complete?l.drawImage(e,s.box.x,s.box.y,n,n):(l.fillStyle="#fde047",l.fillRect(s.box.x,s.box.y,n,n))}if(s.frameCount++,s.pipes.forEach((e,t)=>{e.x-=3,l.fillStyle="#000",l.fillRect(e.x,0,i,e.gapY),l.fillRect(e.x,e.gapY+o,i,r),l.strokeStyle="#16a34a",l.lineWidth=3,l.strokeRect(e.x,0,i,e.gapY),l.strokeRect(e.x,e.gapY+o,i,r),e.x+i<s.box.x&&!e.scored&&(s.score++,u(s.score),e.scored=!0),e.x<-i&&s.pipes.splice(t,1)}),(0===s.pipes.length||s.pipes[s.pipes.length-1].x<e-250)&&s.pipes.push({x:e+50,gapY:Math.random()*(r-o-100)+50}),s.box.y<0||s.box.y+n>r||s.pipes.some(e=>s.box.x+n>e.x&&s.box.x<e.x+i&&(s.box.y<e.gapY||s.box.y+n>e.gapY+o))){x("gameOver"),w(!0),s.animationId&&cancelAnimationFrame(s.animationId);return}s.animationId=requestAnimationFrame(a)};return s.animationId=requestAnimationFrame(a),()=>{s.animationId&&cancelAnimationFrame(s.animationId)}},[d]),(0,t.jsx)("div",{className:"w-full h-screen flex flex-col items-center justify-center p-0",children:(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)("canvas",{ref:e,onClick:S,className:"w-full h-full cursor-pointer"}),(0,t.jsx)("div",{className:"absolute top-4 left-4 px-6 py-3 rounded-xl bg-black/60 backdrop-blur-lg border border-white/10 shadow-lg",children:(0,t.jsx)("p",{className:"text-3xl font-bold text-yellow-400 drop-shadow-lg",children:m})}),"menu"===d&&(0,t.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center",children:(0,t.jsxs)(a.Button,{onClick:k,size:"lg",className:"text-xl px-10 py-6 rounded-xl shadow-xl hover:scale-110 transition",children:[(0,t.jsx)(o.Play,{className:"mr-2"})," Start"]})}),"gameOver"===d&&(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 backdrop-blur-xl gap-4 p-2",children:[(0,t.jsxs)(n.Card,{className:"bg-slate-800/70 border-slate-700 rounded-2xl shadow-xl w-full max-w-md mb-4",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)(n.CardTitle,{className:"flex items-center text-yellow-400",children:[(0,t.jsx)(i.Trophy,{className:"mr-2"})," Leaderboard"]})}),(0,t.jsx)(n.CardContent,{children:0===p.length?(0,t.jsx)("p",{className:"text-slate-400 text-center py-2",children:"No scores yet"}):(0,t.jsx)("div",{className:"space-y-2",children:p.map((e,l)=>(0,t.jsxs)("div",{className:`flex items-center justify-between px-3 py-2 rounded-xl shadow-md ${0===l?"bg-yellow-500/20 border border-yellow-500":"bg-slate-700/50"}`,children:[(0,t.jsxs)("span",{className:"text-white font-medium",children:["#",l+1," ",e.player_name]}),(0,t.jsx)("span",{className:"text-yellow-400 font-bold",children:e.score})]},e.id))})})]}),(0,t.jsxs)("div",{className:"text-center bg-slate-800/70 p-6 rounded-2xl border border-slate-700 shadow-xl animate-fadeIn w-full max-w-md",children:[(0,t.jsxs)("p",{className:"text-3xl text-yellow-400 mb-4",children:["Score: ",m]}),g&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(r.Input,{placeholder:"Enter Name",value:h,onChange:e=>b(e.target.value),onKeyDown:e=>"Enter"===e.key&&R(),className:"bg-slate-700 text-white border-slate-600 mb-3"}),(0,t.jsxs)(a.Button,{onClick:R,className:"w-full mb-2",children:[(0,t.jsx)(i.Trophy,{className:"mr-2"})," Save Score"]})]}),(0,t.jsxs)(a.Button,{onClick:k,size:"lg",className:"w-full mt-2",children:[(0,t.jsx)(c.RotateCcw,{className:"mr-2"})," Try Again"]}),(0,t.jsx)("p",{className:"mt-4 text-sm text-white/70",children:"Made by Tanzeel Khan from â¤"})]})]})]})})}e.s(["default",()=>d])},98447,e=>{e.n(e.i(302))},11737,e=>{e.v(e=>Promise.resolve().then(()=>e(6085)))}]);